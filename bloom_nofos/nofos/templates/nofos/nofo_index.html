{% extends 'base.html' %}

{% block title %}
	All NOFOs
{% endblock %}

{% block content %}
	<section class="usa-section">
		<div class="grid-container">
			{% for message in messages %}
				{% if "success" in message.tags %}
					<div class="usa-alert usa-alert--success margin-bottom-3">
						<div class="usa-alert__body">
							<h4 class="usa-alert__heading">NOFO imported successfully</h4>
							<p class="usa-alert__text">
								{{ message | safe }}
							</p>
						</div>
					</div>
				{% elif "error" in message.tags %}
					<div class="usa-alert usa-alert--error margin-bottom-3" role="alert">
						<div class="usa-alert__body">
							<h4 class="usa-alert__heading">NOFO deleted</h4>
							<p class="usa-alert__text">
								{{ message | safe }}
							</p>
						</div>
					</div>
				{% endif %}
			{% endfor %}

			<h1 class="font-heading-xl margin-y-0">All NOFOs</h1>
			{% if nofo_list %}
				<table class="usa-table usa-table--borderless width-full">
					<caption>
						All the NOFOs fit to show.
					</caption>
					<thead>
						<tr>
							<th scope="col">Name</th>
							<th scope="col">Coach</th>
							<th scope="col">Created</th>
							<th scope="col">Manage</th>
						</tr>
					</thead>
					<tbody>
						{% for nofo in nofo_list %}
							<tr>
								<th scope="row"><a href="{% url 'nofos:nofo_view' nofo.id %}">{% if nofo.short_name %}{{ nofo.short_name }}{% else %}{{ nofo.title }}{% endif %}</a></th>
								<td>{% if nofo.coach %}{{ nofo.get_coach_display }}{% else %}â€”{% endif %}</td>
								<td>{{ nofo.created|date:'M j' }}</td>
								<td><a href="{% url 'nofos:nofo_edit' nofo.id %}">Edit<span class="usa-sr-only"> {% if nofo.short_name %}{{ nofo.short_name }}{% else %}{{ nofo.title }}{% endif %}</span></a></td>
							<tr>
						{% endfor %}
					</tbody>
				</table>
			{% else %}
				<p>No Fos are available.</p>
			{% endif %}
			<h2 class="font-heading-md">Import a new NOFO</h2>
			<p><a href="{% url 'nofos:nofo_import' %}">Use this handy NOFO importer to add a NOFO</a>.</p>
			<p>Export your NOFO document as HTML or Markdown from Google Docs and then upload it here.</p>
		</div>
	</section>
{% endblock %}